(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{3578:function(e,s,t){Promise.resolve().then(t.bind(t,7859))},7859:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(4700),r=t(3487),o=t(9539);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,o.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),n=(0,o.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i=(0,o.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),c=(0,o.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var d=t(295),h=t(6983);function m(e){let{board:s,size:t}=e,r={1:"#0a9396",2:"#e9d8a6",3:"#ee9b00",4:"#ca6702",5:"#005f73",6:"#ae2012",7:"#86350f",8:"#94d2bd",9:"#9b2226"};return(0,a.jsx)("div",{className:"grid gap-0.5 p-1",style:{gridTemplateColumns:"repeat(".concat(t,", minmax(0, 1fr))"),width:"48px",height:"48px"},children:s.slice(0,t*t).map((e,s)=>(0,a.jsx)("div",{className:"flex items-center justify-center rounded text-xs font-bold text-white",style:{backgroundColor:r[e]||"hsl(".concat((e-9)*36," 100% 75%)"),aspectRatio:"1"},children:e>0?e:""},s))})}function x(){let e=(0,h.useRouter)(),[s,o]=(0,r.useState)([]),[x,p]=(0,r.useState)("stopTime"),[u,g]=(0,r.useState)("desc"),[b,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f(!0),async function(){let{getGameHistory:e}=await Promise.all([t.e(352),t.e(759)]).then(t.bind(t,6759));o(await e())}()},[]);let j=[...s].sort((e,s)=>{let t=e[x],a=s[x];return t<a?"asc"===u?-1:1:t>a?"asc"===u?1:-1:0}),w=e=>{x===e?g("asc"===u?"desc":"asc"):(p(e),g("desc"))},N=e=>new Date(e).toLocaleString(),y=(e,s)=>{let t=s-e,a=Math.floor(t/6e4%60),r=Math.floor(t/36e5),o=[];return r>0&&o.push("".concat(r,"h")),(a>0||r>0)&&o.push("".concat(a,"m")),o.push("".concat(Math.floor(t/1e3%60),"s")),o.join(" ")},k=e=>{let{k:s,label:t}=e;return(0,a.jsxs)("button",{onClick:()=>w(s),className:"flex items-center gap-1 font-semibold hover:text-indigo-400",children:[t,x===s?"asc"===u?(0,a.jsx)(l,{size:16}):(0,a.jsx)(n,{size:16}):null]})},S=s=>{sessionStorage.setItem("loadedGameBoard",JSON.stringify(s.board)),sessionStorage.setItem("loadedGamePoints",s.score.toString()),sessionStorage.setItem("loadedGameMoves",s.moves.toString()),sessionStorage.setItem("loadedGameSeed",s.seed.toString()),sessionStorage.setItem("loadedGameStartTime",s.startTime.toString()),e.push("/exponentile")};return b?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col items-center p-4",children:[(0,a.jsx)("header",{className:"mb-8 flex w-full max-w-4xl items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(d.default,{href:"..",className:"rounded-full p-2 transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,a.jsx)(i,{size:24})}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Game History"})]})}),(0,a.jsx)("div",{className:"w-full max-w-4xl overflow-x-auto rounded-lg border border-gray-200 shadow-sm dark:border-gray-800",children:(0,a.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50 dark:border-gray-800 dark:bg-gray-900/50",children:[(0,a.jsx)("th",{className:"p-4 whitespace-nowrap",children:(0,a.jsx)(k,{k:"startTime",label:"Started"})}),(0,a.jsx)("th",{className:"p-4 whitespace-nowrap",children:(0,a.jsx)(k,{k:"stopTime",label:"Finished"})}),(0,a.jsx)("th",{className:"p-4 font-semibold whitespace-nowrap",children:"Duration"}),(0,a.jsx)("th",{className:"p-4 whitespace-nowrap",children:(0,a.jsx)(k,{k:"score",label:"Score"})}),(0,a.jsx)("th",{className:"p-4 whitespace-nowrap",children:(0,a.jsx)(k,{k:"moves",label:"Moves"})}),(0,a.jsx)("th",{className:"p-4 whitespace-nowrap",children:(0,a.jsx)(k,{k:"seed",label:"Seed"})}),(0,a.jsx)("th",{className:"p-4 whitespace-nowrap text-center",children:"Board"})]})}),(0,a.jsx)("tbody",{children:0===j.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"p-8 text-center text-gray-500",children:"No games played yet."})}):j.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 transition-colors hover:bg-gray-50 dark:border-gray-800 dark:hover:bg-gray-900/30",children:[(0,a.jsx)("td",{className:"p-4 whitespace-nowrap text-sm",children:N(e.startTime)}),(0,a.jsx)("td",{className:"p-4 whitespace-nowrap text-sm",children:N(e.stopTime)}),(0,a.jsx)("td",{className:"p-4 whitespace-nowrap text-sm",children:y(e.startTime,e.stopTime)}),(0,a.jsx)("td",{className:"p-4 font-medium",children:e.score.toLocaleString()}),(0,a.jsx)("td",{className:"p-4",children:e.moves.toLocaleString()}),(0,a.jsx)("td",{className:"p-4 font-mono text-xs",children:e.seed}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("button",{onClick:()=>S(e),className:"flex items-center justify-center gap-1 rounded bg-indigo-600 hover:bg-indigo-700 p-2 transition-colors",title:"Load this game",children:[(0,a.jsx)(m,{board:e.board,size:8}),(0,a.jsx)(c,{size:12})]})})]},s))})]})})]}):null}}},function(e){e.O(0,[195,122,307,744],function(){return e(e.s=3578)}),_N_E=e.O()}]);