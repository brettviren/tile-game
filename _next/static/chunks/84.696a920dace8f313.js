"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{5839:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(4700);function s(e){let{children:t,onClick:a,className:s}=e;return(0,n.jsx)("button",{className:"rounded border border-black px-4 py-2 transition-colors hover:bg-slate-100 dark:border-white hover:dark:bg-slate-600 ".concat(s),onClick:a,children:t})}},5084:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(4700),s=a(7565),i=a(6452),o=a(9761),r=a(626),l=a(8655),c=a(5102),d=a(3487);function u(e){let{tile:t,selected:a}=e,[r,l]=(0,i.H)(),c=function(e){let t=(0,d.useRef)();return(0,d.useEffect)(()=>{t.current=e}),t.current}(t.value),u=(0,s.TZ)(t);return(0,d.useEffect)(()=>{void 0!=c&&l([[r.current,{scale:1.3,border:"10px solid white"}],[r.current,{scale:1,border:"none"}]])},[t.value]),(0,n.jsx)(o.E.div,{whileTap:{scale:.98},transition:{type:"spring",stiffness:700,damping:20},style:{background:u,color:(0,s.pJ)(u),willChange:"transform"},className:"flex h-full w-full select-none items-center justify-center rounded font-bold text-black transition-colors duration-700 ".concat(a?"ring ring-yellow-400":""," ").concat(t.value>9?"text-sm md:text-xl":"text-xl md:text-2xl"," ").concat(t.value>10&&"text-base ring-2 ring-orange-400 md:text-xl"),ref:r,children:Math.pow(2,t.value)})}var m=a(6759);function f(){let[e,t]=(0,d.useState)(!1);(0,d.useEffect)(()=>{!async function(){let e=await (0,m.W$)();t(e),e&&l(!1)}()},[]);let[a,s]=(0,d.useState)(0),[i,l]=(0,d.useState)(!e),c={initial:{x:300,opacity:0},enter:{x:0,opacity:1},exit:{x:-300,opacity:0}},u=[(0,n.jsxs)(o.E.div,{variants:c,initial:"initial",animate:"enter",exit:"exit",children:[(0,n.jsx)("div",{className:"h-max w-full rounded border border-white p-2",children:(0,n.jsx)("img",{src:"".concat("/tile-game","/tutorial1.jpg"),className:"h-full w-full"})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,n.jsx)("span",{children:"Swap tiles to make a combination of three or more identical tiles."}),(0,n.jsx)("button",{onClick:()=>s(1),className:"rounded border border-black py-1 dark:border-white",children:"Next"})]})]},0),(0,n.jsxs)(o.E.div,{variants:c,initial:"initial",animate:"enter",exit:"exit",children:[(0,n.jsx)("div",{className:"h-max w-full rounded border border-white p-2",children:(0,n.jsx)("img",{src:"".concat("/tile-game","/tutorial2.jpg"),className:"h-full w-full"})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[(0,n.jsx)("span",{children:"The more tiles in the match, the higher the resulting tile will be. In this case the result will be 16."}),(0,n.jsx)("button",{onClick:function(){l(!1),(0,m.gH)()},className:"rounded border border-black py-1 dark:border-white",children:"Close"})]})]},1)];return(0,n.jsx)("dialog",{className:"fixed z-50 h-min w-full bg-transparent p-8 text-black sm:w-1/2 dark:text-white",open:i,children:(0,n.jsx)("div",{className:"flex justify-center overflow-hidden rounded bg-white p-8 shadow-md dark:bg-black/90 dark:shadow-gray-500",children:(0,n.jsx)(r.M,{mode:"popLayout",children:u[a]})})})}let p={instant:0,fast:.2,medium:.4,slow:.7},x=["top","bottom"];var h=a(5839),g=a(1466);function w(e){let{animationSpeed:t,setAnimationSpeed:a,gamePosition:s,setGamePosition:i,setDebug:l}=e,[c,u]=(0,d.useState)(!1),[m,f]=(0,d.useState)([]),{toast:w}=(0,g.pm)();return(0,d.useEffect)(()=>{let e=m.slice(-5),t=["bottom","top","slow","fast","instant"];e.length===t.length&&e.every((e,a)=>e===t[a])&&(l(!0),w({description:"Debug mode enabled"}))},[m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.M,{children:c&&(0,n.jsxs)("div",{className:"fixed bottom-0 z-50",children:[(0,n.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:100},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 z-40 bg-opacity-75 backdrop-blur-sm transition-opacity"}),(0,n.jsxs)(o.E.dialog,{initial:{y:"100%",opacity:0},animate:{y:"-100%",opacity:100},exit:{y:"100%",opacity:0},transition:{type:"tween",duration:.15},open:c,className:"fixed z-50 h-min w-full rounded-lg border bg-white p-8 text-black sm:w-1/2 dark:bg-black  dark:text-white",children:[(0,n.jsx)("h2",{className:"whitespace-nowrap text-lg font-semibold leading-none tracking-tight",children:"Settings"}),(0,n.jsx)("span",{className:"text-muted-foreground mt-2 text-sm",children:"Control animation speed"}),(0,n.jsxs)("div",{className:"mt-4 grid gap-1",children:[(0,n.jsx)("h3",{className:"mb-1 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Animation speed"}),Object.keys(p).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"radio",name:"speed",id:"speed-".concat(e),className:"peer hidden",checked:e==t,value:e,onChange:()=>{a(e),f([...m,e])}}),(0,n.jsx)("label",{htmlFor:"speed-".concat(e),className:"flex items-center gap-2 rounded border px-4 py-2 capitalize peer-checked:border-blue-500 peer-checked:bg-slate-200 peer-checked:dark:bg-slate-600",children:e})]},e))]}),(0,n.jsxs)("div",{className:"mt-4 grid gap-1",children:[(0,n.jsx)("h3",{className:"mb-1 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Game position"}),x.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"radio",name:"gamePosition",id:"gamePosition-".concat(e),className:"peer hidden",checked:e==s,value:e,onChange:()=>{i(e),f([...m,e])}}),(0,n.jsx)("label",{htmlFor:"gamePosition-".concat(e),className:"flex items-center gap-2 rounded border px-4 py-2 capitalize peer-checked:border-blue-500 peer-checked:bg-slate-200 peer-checked:dark:bg-slate-600",children:e})]},e))]}),(0,n.jsx)(h.Z,{className:"mt-4 w-full",onClick:()=>u(!1),children:"Close"})]})]})}),(0,n.jsx)("button",{className:"py-2",onClick:()=>u(!0),children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-settings",children:[(0,n.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})]})}var v=a(7215);function b(e){let{board:t,moves:a,points:s}=e,i=navigator.canShare&&navigator.canShare({text:"test"}),o=void 0!=navigator.clipboard,{toast:r}=(0,g.pm)();return i||o?(0,n.jsxs)(h.Z,{onClick:async()=>{try{if(i){let e=await (0,v.T7)(t,a,s);navigator.share({files:[e]})}else{let e=new ClipboardItem({"image/png":(0,v.T7)(t,a,s).then(e=>new Blob([e],{type:"image/png"}))});await navigator.clipboard.write([e]),r({description:"Copied image to clipboard!"})}}catch(e){console.error(e),r({description:"Sharing failed.",variant:"destructive"})}},className:"flex justify-center gap-3",children:["Share",(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})})]}):(0,n.jsx)(n.Fragment,{})}var y=a(295),j=a(5824),S=a(891),k=a(6839),N=a(6612),E=a(709),M=a(2053);let T="/tile-game",I=["".concat(T,"/sounds/blop1.mp3"),"".concat(T,"/sounds/blop2.mp3"),"".concat(T,"/sounds/blop3.mp3")];function C(e){let{startTime:t,duration:a,formatTime:s}=e,[i,o]=(0,d.useState)(0);return(0,d.useEffect)(()=>{let e;return void 0===a?(o(Date.now()-t),e=window.setInterval(()=>{o(Date.now()-t)},1e3)):o(a),()=>window.clearInterval(e)},[t,a]),(0,n.jsx)("button",{className:"text-xl font-medium",children:s(i)})}function A(){let{board:e,isAdjacent:t,swapTile:a,getPositionsThatAlmostMatch:x,isGameOver:g}=(0,s.$c)(8),[v,T]=(0,d.useState)(e),[A,_]=(0,d.useState)(0),[O,D]=(0,d.useState)(0),[G,L]=(0,d.useState)(void 0),[P,z]=(0,d.useState)(void 0),[Z,H]=(0,d.useState)(void 0),[R,B]=(0,d.useState)(!0),[F,$]=(0,d.useState)(void 0),{play:V}=(0,M.x)(I),[J,W]=(0,d.useState)(!0),[U,Y]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=()=>{Y(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),(0,d.useEffect)(()=>{!async function(){let e=sessionStorage.getItem("loadedGameBoard"),t=sessionStorage.getItem("loadedGamePoints"),a=sessionStorage.getItem("loadedGameMoves"),n=sessionStorage.getItem("loadedGameSeed"),i=sessionStorage.getItem("loadedGameStartTime");if(e&&t&&a&&n&&i){let o=JSON.parse(e);T(Array.from({length:8},(e,t)=>Array.from({length:8},(e,a)=>({...(0,s.x0)(),value:o[8*t+a]})))),_(parseInt(t)),D(parseInt(a)),z(parseInt(n)),L(parseInt(i)),H(0),eu(!0),sessionStorage.removeItem("loadedGameBoard"),sessionStorage.removeItem("loadedGamePoints"),sessionStorage.removeItem("loadedGameMoves"),sessionStorage.removeItem("loadedGameSeed"),sessionStorage.removeItem("loadedGameStartTime"),B(!1);return}let o=await (0,m.ky)();if(!o||0==o.points){z(Math.floor(1e6*Math.random())),B(!1);return}T(o.board),_(o.points),D(o.moves),L(o.startTime),z(o.seed),H(o.duration),B(!1)}()},[]);let[q,X]=(0,d.useState)(!1),[K,Q]=(0,d.useState)(void 0),[ee,et]=(0,d.useState)([{board:v,points:0}]),[ea,en]=(0,d.useState)(!1),[es,ei]=(0,d.useState)(!1),[eo,er]=(0,d.useState)();(0,d.useEffect)(()=>{c.dV.isNativePlatform()&&async function(){er(await l.$.signIn())}()},[]);let[el,ec]=(0,d.useState)(0),[ed,eu]=(0,d.useState)(!1);(0,d.useEffect)(()=>{!async function(){ec(await (0,m.YO)())}()},[]);let{animationSpeed:em,setAnimationSpeed:ef,gamePosition:ep,setGamePosition:ex}=function(){let[e,t]=(0,d.useState)(()=>localStorage.getItem("animationSpeed")||"medium"),[a,n]=(0,d.useState)(()=>localStorage.getItem("gamePosition")||"top");return(0,d.useEffect)(()=>{localStorage.setItem("animationSpeed",e)},[e]),(0,d.useEffect)(()=>{localStorage.setItem("gamePosition",a)},[a]),{animationSpeed:e,setAnimationSpeed:t,gamePosition:a,setGamePosition:n}}();function eh(e){let t=Math.floor(e/6e4%60),a=Math.floor(e/36e5),n=[];return a>0&&n.push("".concat(a,"h")),(t>0||a>0)&&n.push("".concat(t,"m")),n.push("".concat(Math.floor(e/1e3%60),"s")),n.join(" ")}(0,d.useEffect)(()=>{if(!q&&g(v)&&G&&void 0===Z){let e=Date.now();H(e-G);let t=v.flat().map(e=>e.value);(0,m.a9)({startTime:G,stopTime:e,score:A,moves:O,seed:null!=P?P:0,board:t})}},[v,q,G,Z,g,A,O,P]);let eg=p[em],ew={type:"spring",duration:eg};async function ev(e,t,a){let n,{x:s,y:i}=a;!q&&(n=Math.abs(t.offset.x)>Math.abs(t.offset.y)?t.offset.x>0?{x:s+1,y:i}:{x:s-1,y:i}:t.offset.y>0?{y:i+1,x:s}:{y:i-1,x:s},Q(void 0),await eb({x:s,y:i},n))}async function eb(e,t){0!==O||G||(L(Date.now()),P||z(Math.floor(1e6*Math.random()))),$({board:v,points:A,moves:O});let n=a(e,t,v);D(e=>e+1),X(!0),et([...ee,...n]);let s=0;for(let[e,t]of n.entries())T(t.board),t.points>0&&!J&&(V(Math.min(Math.pow(2,.4*s),2.5)),s++),_(e=>e+t.points),e<n.length-1&&await new Promise(e=>setTimeout(e,1e3*eg+100));v.some(e=>e.some(e=>11==e.value))&&(0,m.oT)({key:"2048achievement",value:"true"}),X(!1)}async function ey(e){if(!q){if(!K){Q(e);return}if(K.x==e.x&&K.y==e.y||!t(K,e)){Q(void 0);return}eb(K,e),Q(void 0)}}function ej(e){let{x:t,y:a}=e,n=v[t][a];if(!eS.current)return;let s=parseInt(getComputedStyle(eS.current).gap.replace("px",""))+parseInt(getComputedStyle(eS.current.children[0]).width.replace("px",""));if(n.removed)return{x:-((t-n.mergedTo.x)*s),y:-((a-n.mergedTo.y)*s)}}(0,d.useEffect)(()=>{q||((0,m.iN)(v,A,O,G,P,Z),async function(){!q&&!ea&&await (0,m.YO)()<A&&(await (0,m.rE)(A),ec(A)),g(v)&&(eo&&"instant"==em&&await l.$.unlockAchievement({achievementID:"speedDemon"}),el<A&&"ios"==c.dV.getPlatform()&&await l.$.submitScore({leaderboardID:"exponentile",totalScoreAmount:el}))}())},[v,A,q,G,P,Z]),(0,d.useEffect)(()=>{async function e(){let e=await (0,m.YO)();(await l.$.getUserTotalScore({leaderboardID:"exponentile"})).player_score<e&&await l.$.submitScore({leaderboardID:"exponentile",totalScoreAmount:e})}eo&&e()},[eo]);let[eS,ek]=(0,i.H)();function eN(){let e=(0,s.WR)(8),t=Math.floor(1e6*Math.random());(0,m.iN)(e,0,0,void 0,t),ei(!1),eu(!1),_(0),D(0),L(void 0),z(t),H(void 0),T(e),$(void 0)}let[eE,eM]=(0,d.useState)(!1);(0,d.useEffect)(()=>{async function e(){let e=x(v);e&&(await new Promise(e=>setTimeout(e,100)),await eb(e[0],e[1]))}eE&&!q&&e()},[eE,v]);let eT=(0,d.useRef)(null);return R?(0,n.jsx)("div",{}):(0,n.jsxs)("div",{className:"flex pb-8 ".concat("top"==ep?"flex-col":"flex-col-reverse "," items-center"),ref:eT,children:[(0,n.jsx)(f,{}),(0,n.jsxs)(o.E.div,{layout:!0,className:"flex flex-1 transition ".concat("top"==ep?"flex-col justify-start":"flex-col-reverse gap-8"),children:[(0,n.jsxs)("main",{className:"relative grid w-screen grid-cols-8 grid-rows-8 items-center gap-0.5 p-1 sm:w-full sm:gap-2 sm:p-4 touch-none",ref:eS,children:[(0,n.jsx)(r.M,{children:(g(v)||ed)&&!q&&!es&&(0,n.jsx)(o.E.div,{className:"absolute left-0 top-0 z-20 flex h-full w-full items-center justify-center",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{type:"spring",stiffness:400,damping:15},children:(0,n.jsxs)("div",{className:"flex flex-col rounded bg-white/80 px-6 pb-6 pt-2 dark:bg-black/80",children:[(0,n.jsx)("button",{className:"self-end",onClick:()=>ei(!0),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6 ",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}),(0,n.jsx)(o.E.h1,{className:"mb-6 text-5xl font-bold text-blue-100 [text-shadow:_3px_3px_0_#0a9396,_6px_6px_0_#ee9b00,_9px_9px_0_#005f73]",children:"Game Over"}),(0,n.jsxs)("div",{className:"mb-4 flex justify-between px-8 text-lg",children:[(0,n.jsx)("span",{children:"Moves"}),(0,n.jsx)("span",{className:"font-medium",children:O.toLocaleString()})]}),void 0!==Z&&(0,n.jsxs)("div",{className:"mb-4 flex justify-between px-8 text-lg",children:[(0,n.jsx)("span",{children:"Time"}),(0,n.jsx)("span",{className:"font-medium",children:eh(Z)})]}),(0,n.jsx)(b,{board:v,points:A,moves:O}),(0,n.jsx)(h.Z,{onClick:()=>{eN()},className:"mt-2 flex justify-center gap-3",children:"New game"})]})})}),(0,n.jsx)(r.M,{mode:"popLayout",children:v.map((e,t)=>e.map((e,a)=>{var i;return(0,n.jsx)(o.E.button,{onPanEnd:(e,n)=>ev(e,n,{x:a,y:t}),transition:ew,disabled:q,layout:!0,"data-pos":"".concat(a).concat(t),onContextMenu:e=>{var n;if(!ea)return;e.preventDefault();let i=parseInt(null!==(n=prompt("Enter new value"))&&void 0!==n?n:"0"),o=(0,s.hr)(v);o[a][t].value=i,T(o)},initial:{y:-80},animate:null!==(i=ej({x:a,y:t}))&&void 0!==i?i:{y:0},className:"aspect-square w-full sm:size-12 md:size-14 ".concat(ej({x:a,y:t})?"z-0":"z-10"),onClick:e=>ey({x:a,y:t}),children:(0,n.jsx)(u,{tile:v[a][t],selected:(null==K?void 0:K.x)==a&&K.y==t})},v[a][t].id)}))})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-6 p-2 sm:p-4",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col items-start",children:[(0,n.jsx)("span",{className:"text-lg",children:"Score"}),(0,n.jsx)(o.E.span,{className:"break-all text-[clamp(2.25rem,8vw,3.75rem)] font-medium leading-none",animate:{opacity:1,scale:[.7,1]},transition:{type:"spring",stiffness:500,damping:15},children:A.toLocaleString()},A)]}),(0,n.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col items-end",children:[(0,n.jsx)("span",{className:"text-lg",children:"Highscore"}),(0,n.jsx)(o.E.span,{className:"break-all text-[clamp(2.25rem,8vw,3.75rem)] font-medium leading-none",animate:{opacity:1,scale:[.7,1]},transition:{type:"spring",stiffness:500,damping:15},children:Math.max(el,A).toLocaleString()},Math.max(el,A))]})]}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)("button",{onClick:function(){let e=x(v);if(!e){ei(!1);return}let{x:t,y:a}=e[0],{x:n,y:s}=e[1],i=[['[data-pos="'.concat(t).concat(a,'"]'),{scale:1.2,x:(n-t)*10,y:(s-a)*10}],['[data-pos="'.concat(t).concat(a,'"]'),{scale:1,x:0,y:0}]],o=[['[data-pos="'.concat(n).concat(s,'"]'),{scale:.8,x:-((n-t)*10),y:-((s-a)*10)}],['[data-pos="'.concat(n).concat(s,'"]'),{scale:1,x:0,y:0}]];ek(i),ek(o)},className:"w-fit rounded-xl bg-gradient-to-bl from-indigo-500 to-indigo-600 px-6 py-2 text-lg font-medium text-white",children:"Get hint"}),(0,n.jsx)("button",{onClick:function(){F&&!q&&(T(F.board),_(F.points),D(F.moves),$({board:v,points:A,moves:O}))},disabled:!F||q,className:"w-fit rounded-xl bg-gradient-to-bl from-amber-500 to-amber-600 px-6 py-2 text-lg font-medium text-white disabled:opacity-50",children:"Undo"}),G&&(0,n.jsx)(y.default,{href:"/history",children:(0,n.jsx)(C,{startTime:G,duration:Z,formatTime:eh})}),(0,n.jsx)("button",{onClick:()=>(g(v)||confirm("Are you sure?"))&&eN(),className:"w-fit rounded-xl bg-gradient-to-bl from-rose-500 to-rose-600 px-6 py-2 text-lg font-medium text-white",children:"Reset"})]}),ea&&(0,n.jsx)("div",{children:(0,n.jsxs)(h.Z,{onClick:()=>eM(!eE),children:["Autoplay ",eE?"on":"off"]})})]})]}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-end gap-6 px-4",children:[eo&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:async()=>{await l.$.showLeaderboard({leaderboardID:"exponentile"})},children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"})})}),(0,n.jsx)("button",{onClick:async()=>{await l.$.showAchievements()},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,n.jsx)("path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15"}),(0,n.jsx)("path",{d:"M11 12 5.12 2.2"}),(0,n.jsx)("path",{d:"m13 12 5.88-9.8"}),(0,n.jsx)("path",{d:"M8 7h8"}),(0,n.jsx)("circle",{cx:"12",cy:"17",r:"5"}),(0,n.jsx)("path",{d:"M12 18v-2h-.5"})]})})]}),(0,n.jsx)(y.default,{href:"/history","aria-label":"Game History",children:(0,n.jsx)(j.Z,{className:"h-6 w-6"})}),J?(0,n.jsx)("button",{onClick:()=>W(!J),children:(0,n.jsx)(k.Z,{})}):(0,n.jsx)("button",{onClick:()=>W(!J),children:(0,n.jsx)(S.Z,{})}),"undefined"!=typeof document&&document.fullscreenEnabled&&(0,n.jsx)("button",{onClick:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.error("Error attempting to enable full-screen mode: ".concat(e.message))})},"aria-label":"Toggle Fullscreen",children:U?(0,n.jsx)(N.Z,{}):(0,n.jsx)(E.Z,{})}),(0,n.jsx)(w,{setAnimationSpeed:ef,animationSpeed:em,gamePosition:ep,setGamePosition:ex,setDebug:en})]})]})}},1466:function(e,t,a){a.d(t,{pm:function(){return m}});var n=a(3487);let s=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},r=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=r(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||n()}}}),{id:a,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=n.useState(c);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},2053:function(e,t,a){a.d(t,{x:function(){return s}});var n=a(3487);let s=e=>{let[t,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),o=(0,n.useRef)(null),r=(0,n.useRef)(null),[l,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=new window.AudioContext;return o.current=e,()=>{e.close()}},[]);let d=async()=>await Promise.all(e.map(e=>fetch(e).then(e=>e.arrayBuffer()).then(e=>{if(o.current)return o.current.decodeAudioData(e);throw Error("AudioContext not initialized")})));return(0,n.useEffect)(()=>{d().then(e=>{c(e),i(!0)})},[e]),{play:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!s||!o.current)return;r.current&&r.current.stop();let t=Math.floor(Math.random()*l.length),n=o.current.createBufferSource();n.buffer=l[t],n.playbackRate.value=e,n.connect(o.current.destination),n.start(),a(!0),n.onended=()=>{a(!1)},r.current=n},pause:()=>{r.current&&(r.current.stop(),a(!1))},isPlaying:t}}},6759:function(e,t,a){a.d(t,{gH:function(){return d},getGameHistory:function(){return m},ky:function(){return p},YO:function(){return l},W$:function(){return c},iN:function(){return f},a9:function(){return u},oT:function(){return i},rE:function(){return r}});var n=a(3352),s=a(7565);async function i(e){let{key:t,value:a}=e;await n.u.set({key:t,value:a})}async function o(e){var t;let{key:a}=e,s=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}}(a);return s?(await i({key:a,value:s}),document.cookie="".concat(encodeURIComponent(a),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"),s):null!==(t=(await n.u.get({key:a})).value)&&void 0!==t?t:void 0}async function r(e){await i({key:"highscore",value:e.toString()})}async function l(){let e=await o({key:"highscore"});return parseInt(null!=e?e:"0")}async function c(){return!!await o({key:"doneTutorial"})}async function d(){await i({key:"doneTutorial",value:"true"})}async function u(e){let t=await o({key:"gameHistory"}),a=t?JSON.parse(t):[];a.push(e),await i({key:"gameHistory",value:JSON.stringify(a)})}async function m(){let e=await o({key:"gameHistory"});if(!e)return[];try{return JSON.parse(e)}catch(e){return[]}}async function f(e,t,a,n,o,r){let l=(0,s.hJ)(e,t,a,n,o,r);await i({key:"gameState",value:l})}async function p(){let e=await o({key:"gameState"});if(e)return(0,s.Pw)(e)}}}]);